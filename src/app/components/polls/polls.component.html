<div class="container">
  <h2>polls</h2>
  <div class="text-right">
      <span id="buttonalign"  ><i class="fa fa-plus-circle " aria-hidden="true" data-toggle="modal" data-target="#myModal"></i></span>
  </div>
  <div class="row">
    <div class="col-md-2">
        <app-navigation></app-navigation>
    </div>
    <div class="col-md-10">
        <table class="table">
            <thead>
              <tr>
                <th>PollName</th>
                <th>View</th>
                <th>Edit</th>
                <th>Delete</th>
              </tr>
            </thead>
            <tbody *ngFor="let poll of listpolls">
              <tr>
                <td>{{poll.pollName}}</td>
                <td data-toggle="modal" data-target="#viewmodel" (click)="viewitem(poll.id)"><i class="far fa-eye"></i></td>
                <td (click)="edititem(poll.id)" data-toggle="modal" data-target="#editmodal"><i class="fas fa-pencil-alt"></i></td>
                <td (click)="deleteitem(poll.id)"><i class="far fa-trash-alt"></i></td>
              </tr>
            </tbody>
        </table>
    </div>
    <div style="margin-top:50px;margin-left:150px;">
      <button type="button" class="btn btn-primary " id="previous" (click)="previous()" [disabled]="check"  >previous</button>
      <button type="button" class="btn btn-primary " id="next" (click)="next()" [disabled]="checknext">next</button>
    </div>
  </div>
</div>




<!-- for model -->
<div class="modal" id="myModal" class="modal fade">
  <div class="modal-dialog model-lg">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title"></h4>
        <h5>NewPoll</h5>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        <!-- form starting code  -->
        <div class="container">
          <div class="row">
            <div class="col-sm-2">
            </div>
            <div class="col-sm-8">
          <label for="subject">subject:</label>
          <textarea type="text" id="subject" class="form-control form-rounded" name="subject" (change)="subjectnews($event)"
          required></textarea><br>
          <label for="subject">no of options:</label>
          <textarea type="text" id="subject" class="form-control form-rounded" name="subject" (change)="option($event)"
          required></textarea><br>
           <!-- for options........................... -->
<app-hello name="{{ name }}"></app-hello>
<div class="row">
  <table class="table table-striped table-bordered col-lg-10">
    <thead >
      <tr>
        <th>Item Name
          <a (click)="onEditCloseItems()" class="text-info float-right">
            <!-- <i class="mdi mdi-{{isEditItems ? 'close' : 'pencil'}} mdi-18px"></i> -->
            <i class="fas fa-plus {{isEditItems ? 'close' : 'plus'}}"></i>
          </a>
        </th>
      </tr>
    </thead>
    <tbody *ngIf="!isEditItems">
      <tr *ngFor="let field of fieldArray; let i = index">
        <td *ngIf="field?.name">
          <i (click)="deleteFieldValue(i)" class="fas fa-times"></i> {{field.name}}
        </td>
      </tr>
    </tbody>
    <tbody *ngIf="isEditItems">
      <tr *ngFor="let field of fieldArray; let i = index">
        <td>
          <div class="input-group">
            <div class="input-group-prepend">
              <div (click)="deleteFieldValue(i)" class="input-group-text">
                <i class="fas fa-times"></i>
              </div>
            </div>
            <input [(ngModel)]="field.name" class="form-control" type="text" name="{{field.name}}" placeholder="Name...">
          </div>
        </td>
      </tr>
      <tr>
        <td align="right">
          <button *ngIf="fieldArray.length <= 6" class="btn btn-secondary btn-lg1" type="button" (click)="addFieldValue()" style="margin-right:10px">Add More Item</button>
          <!-- <button (click)="save()" class="btn btn-primary btn-lg1" type="button">Save</button> -->
        </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- end for options -->
<br><div class="text-center">
              <button type="button" class="btn btn-success btn-s" (click)="onSubmit()">Upload</button>
          </div>
            </div>
          </div>
        </div>
        <!-- form ending code -->
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" id="close" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>



 <!-- view model -->
<!-- for model -->
<div class="modal" id="viewmodel" class="modal fade">
  <div class="modal-dialog model-lg">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title"></h4>
        <h5>poll</h5>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        <!-- form starting code  -->
        <div class="container">
          <div class="row">
            <div class="col-sm-2">
            </div>
            <div class="col-sm-8">
                <span class="image">PollName: </span> {{viewpoll.pollName}}<br><br>
                <span class="image">OptionCount: </span> {{viewpoll.countoptions}}<br><br>
                <span class="image">Options: </span> {{viewpoll.options}}
            </div>
          </div>
        </div>
        <!-- form ending code -->
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" id="close" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>




<!-- for edit model -->
<div class="modal" id="editmodal" class="modal fade">
  <div class="modal-dialog model-lg">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title"></h4>
        <h5>Poll</h5>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        <!-- form starting code  -->
        <div class="container">
          <div class="row">
            <div class="col-sm-2">
            </div>
            <div class="col-sm-8">
                <label>id:</label>
                <input type="text" class="form-control" value={{editpolls.id}} (change)="editId($event)" readonly><br>
          <label for="subject">PollName:</label>
          <textarea type="text" id="subject" class="form-control form-rounded" name="subject" (change)="subjectnews($event)"
          required></textarea><br>
          <label for="subject">no of options:</label>
          <textarea type="text" id="subject" class="form-control form-rounded" name="subject" (change)="option($event)"
          required></textarea><br>
             <!-- for options........................... -->
<app-hello name="{{ kvl }}"></app-hello>
<div class="row">
  <table class="table table-striped table-bordered col-lg-10">
    <thead >
      <tr>
        <th>Option Names
          <a (click)="EditCloseItems()" class="text-info float-right">
            <i class="fas fa-plus {{edititems ? 'close' : 'plus'}}"></i>
          </a>
        </th>
      </tr>
    </thead>
    <tbody *ngIf="!edititems">
      <tr *ngFor="let editopt of fieldArrayedit; let i = index">
        <td *ngIf="editopt?.kvl">
          <i (click)="deleteOptionedit(i)" class="fas fa-times"></i> {{editopt.kvl}}
        </td>
      </tr>
    </tbody>
    <tbody *ngIf="edititems">
      <tr *ngFor="let editopt of fieldArrayedit; let i = index">
        <td>
          <div class="input-group">
            <div class="input-group-prepend">
              <div (click)="deleteOptionedit(i)" class="input-group-text">
                <i class="fas fa-times"></i>
              </div>
            </div>
            <input [(ngModel)]="editopt.kvl" class="form-control" type="text" name="{{editopt.kvl}}" placeholder="Name...">
          </div>
        </td>
      </tr>
      <tr>
        <td text-align="right">
          <button *ngIf="fieldArrayedit.length <= 6" class="btn btn-secondary btn-lg1" type="button" (click)="addFieldValueEdit()" style="margin-right:10px">Add More Items</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- end for options -->
<br><div class="text-center">
              <button type="button" class="btn btn-success btn-s" (click)="save()">Save</button>
          </div>
            </div>
          </div>
        </div>
        <!-- form ending code -->
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" id="close" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
